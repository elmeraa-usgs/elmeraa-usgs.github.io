{"title":"Survey responses of political affiliation and recognition as an environmentalist with chi-square analysis","markdown":{"yaml":{"title":"Survey responses of political affiliation and recognition as an environmentalist with chi-square analysis","description":"This script analyzes the association between respondents’ political affiliation (coined “conservative” or “liberal” by self-identification) and if they consider themself an environmentalist, followed by a chi-square test for independence.\n","author":[{"name":"Elmera Azadpour"}],"date":"2021-02-23","format":"html","categories":["code","analysis","chi-square"],"image":"political.jpg"},"headingText":"Load packages","containsRefs":false,"markdown":"\n\n\n```{r setup, message =FALSE}\nlibrary(tidyverse)\nlibrary(here)\nlibrary(janitor)\nlibrary(broom)\nlibrary(kableExtra)\n```\n\n### To access data, html and Rmd/qmd files:\n-   the survey data can be found in the *data* folder of [this repo](https://github.com/elmeraa/206-assignment6); the Rmd and html files, denoted as *a6-task2*, can be found in the *src* folder\n- the qmd format can be found [here](https://github.com/elmeraa/elmeraa.github.io/tree/main/posts/2021-02-23-chisquare-politcal)\n\n\n## Introduction:\n\nThis task analyzes the association between respondents' political affiliation (coined \"conservative\" or \"liberal\" by self-identification) and if they consider themself an environmentalist. The variables in the dataset (conservation_survey.csv) I have used include:\n\n-   env_id: response to survey statement \"I consider myself an environmentalist,\" with outcomes 1 = Yes, 2 = No, 3 = Unsure\n-   pol_or: response to survey question \"How do you self-identify politically?\" Response values 1 - 3 are \"conservative\" (strongly to slightly), and values 5 - 7 are \"liberal\" (slightly to strongly).\n\n```{r, error=FALSE, warning=FALSE}\n## Read in survey data \nsurvey <- read_csv(here(\"posts\", \"2021-02-23-chisquare-politcal\", \"conservation_survey.csv\"))\n```\n\n```{r, error=FALSE, warning=FALSE}\n## only keep variables: 'env_id' and 'pol_or'\nsurvey_clean <- survey %>% \n  clean_names() %>% \n  dplyr::select(env_id, pol_or) %>% \n  mutate(party = case_when(\n    between(pol_or, 1,3) ~ \"conservative\",\n    between(pol_or, 5,7) ~ \"liberal\",\n    TRUE ~ NA_character_))\n\nsurvey_environmentalist <- survey_clean %>%  \n  mutate(environmentalist = case_when(\n   env_id == 1 ~ \"yes\",\n   env_id == 2 ~ \"no\",\n   env_id == 3 ~ \"unsure\"))\n```\n\n```{r, error=FALSE, warning=FALSE}\n## Finalized table that shows counts and proportions of \"liberal\" and \"conservative\" survey respondents who responded with \"yes\", \"no\" and \"unsure\" to the statement: \"I consider myself an environmentalist\"\nsurvey_counts <- survey_environmentalist %>% \n  janitor::tabyl(party, environmentalist)\n\nsurvey_proportions <- survey_counts %>% \n  adorn_percentages() %>% \n  janitor::adorn_pct_formatting(digits = 2) %>% \n  adorn_ns() %>% \n  drop_na()\n\nsurvey_ct <- survey_proportions %>% \n  column_to_rownames(var = \"party\")\n\nsurvey_ct %>%  \n  kable(col.names = c(\"No\",\n                      \"Unsure\",\n                      \"Yes\"),\n    caption = \"**Table 1**: Association between respondents’ political affiliation (“conservative” or “liberal” by self-identification) vs if they consider themself an environmentalist\") %>% \n  kable_styling(full_width = FALSE) \n```\n\n```{r, error=FALSE, warning=FALSE}\n## Chi-square test\nsurvey_ct <- survey_counts %>%   \n  drop_na() %>% \n  column_to_rownames(var = \"party\")\n  \nsurvey_x2 <- chisq.test(survey_ct)\nsurvey_x2\n\nsurvey_tidy <- tidy(survey_x2)\n```\n\n## Chi-square results and summary\n\nA chi-square test for independence compares two variables in a contingency table to see if they are related. In a more general sense, it tests to see whether distributions of categorical variables differ from each another. For this analysis, there is a significant association (i.e. non-independence) between political affiliation and and if a person considers themself an environmentalist (\\$\\\\chi\\$^2^(`r survey_tidy$parameter`) = `r round(survey_tidy$statistic,2)`, *p*-value = `r format(survey_tidy$p.value, scientific = TRUE, digits = 3)`).\n\n#### Citations:\n\n-   Andrews Forest LTER Site and C. Batavia. 2019. Influences on charitable giving for conservation: Online survey data of 1,331 respondents across the US, August 2017 ver 3. Environmental Data Initiative. https://doi.org/10.6073/pasta/926e6270e324a1322a900da14d38b96c\n\n-   Metadata, including survey questions and possible responses, are here: https://portal.edirepository.org/nis/metadataviewer?packageid=knb-lter-and.5444.3\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"chisquare-politcal.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.36","editor":"visual","theme":"../../ember.scss","title-block-banner":true,"title":"Survey responses of political affiliation and recognition as an environmentalist with chi-square analysis","description":"This script analyzes the association between respondents’ political affiliation (coined “conservative” or “liberal” by self-identification) and if they consider themself an environmentalist, followed by a chi-square test for independence.\n","author":[{"name":"Elmera Azadpour"}],"date":"2021-02-23","categories":["code","analysis","chi-square"],"image":"political.jpg"},"extensions":{"book":{"multiFile":true}}}}}